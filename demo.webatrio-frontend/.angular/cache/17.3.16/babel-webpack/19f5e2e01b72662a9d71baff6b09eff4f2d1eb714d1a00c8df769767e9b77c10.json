{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/personne.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../liste-emplois/liste-emplois.component\";\nconst _c0 = a0 => [\"/emploi/nouveau\", a0];\nfunction ListePersonnesComponent_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function ListePersonnesComponent_a_6_Template_a_click_0_listener() {\n      const personne_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.selectionnerPersonne(personne_r2));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const personne_r2 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r2.personneSelectionnee && ctx_r2.personneSelectionnee.id === personne_r2.id);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", personne_r2.prenom, \" \", personne_r2.nom, \" \");\n  }\n}\nfunction ListePersonnesComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 7)(2, \"div\", 8)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 9);\n    i0.ɵɵtext(6, \" Ajouter un emploi \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 10)(8, \"p\")(9, \"strong\");\n    i0.ɵɵtext(10, \"Date de naissance:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"app-liste-emplois\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"D\\u00E9tails de \", ctx_r2.personneSelectionnee.prenom, \" \", ctx_r2.personneSelectionnee.nom, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(8, _c0, ctx_r2.personneSelectionnee.id));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(12, 5, ctx_r2.personneSelectionnee.dateNaissance, \"dd/MM/yyyy\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"personneId\", ctx_r2.personneSelectionnee.id);\n  }\n}\nexport class ListePersonnesComponent {\n  constructor(personneService) {\n    this.personneService = personneService;\n    this.personnes = [];\n    this.personneSelectionnee = null;\n  }\n  ngOnInit() {\n    this.chargerPersonnes();\n  }\n  chargerPersonnes() {\n    this.personneService.obtenirToutesPersonnes().subscribe({\n      next: data => {\n        this.personnes = data;\n      },\n      error: e => {\n        console.error('Erreur lors du chargement des personnes', e);\n      }\n    });\n  }\n  selectionnerPersonne(personne) {\n    this.personneSelectionnee = personne;\n  }\n  static {\n    this.ɵfac = function ListePersonnesComponent_Factory(t) {\n      return new (t || ListePersonnesComponent)(i0.ɵɵdirectiveInject(i1.PersonneService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListePersonnesComponent,\n      selectors: [[\"app-liste-personnes\"]],\n      decls: 8,\n      vars: 2,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"list-group\"], [\"class\", \"list-group-item list-group-item-action\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-md-6\", 4, \"ngIf\"], [1, \"list-group-item\", \"list-group-item-action\", 3, \"click\"], [1, \"card\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\"], [1, \"card-body\"], [3, \"personneId\"]],\n      template: function ListePersonnesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Liste des Personnes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"div\", 3);\n          i0.ɵɵtemplate(6, ListePersonnesComponent_a_6_Template, 2, 4, \"a\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(7, ListePersonnesComponent_div_7_Template, 14, 10, \"div\", 5);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.personnes);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.personneSelectionnee);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ListeEmploisComponent, i2.DatePipe],\n      styles: [\".list-group-item[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n\\n.list-group-item[_ngcontent-%COMP%]:hover {\\n  background-color: #f8f9fa;\\n}\\n\\n.list-group-item.active[_ngcontent-%COMP%] {\\n  background-color: #0d6efd;\\n  border-color: #0d6efd;\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saXN0ZS1wZXJzb25uZXMvbGlzdGUtcGVyc29ubmVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLHFCQUFxQjtBQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5saXN0LWdyb3VwLWl0ZW0ge1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuLmxpc3QtZ3JvdXAtaXRlbTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxufVxyXG5cclxuLmxpc3QtZ3JvdXAtaXRlbS5hY3RpdmUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwZDZlZmQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMGQ2ZWZkO1xyXG59ICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","ListePersonnesComponent_a_6_Template_a_click_0_listener","personne_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","selectionnerPersonne","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","personneSelectionnee","id","ɵɵadvance","ɵɵtextInterpolate2","prenom","nom","ɵɵelement","ɵɵproperty","ɵɵpureFunction1","_c0","ɵɵtextInterpolate1","ɵɵpipeBind2","dateNaissance","ListePersonnesComponent","constructor","personneService","personnes","ngOnInit","chargerPersonnes","obtenirToutesPersonnes","subscribe","next","data","error","e","console","personne","ɵɵdirectiveInject","i1","PersonneService","selectors","decls","vars","consts","template","ListePersonnesComponent_Template","rf","ctx","ɵɵtemplate","ListePersonnesComponent_a_6_Template","ListePersonnesComponent_div_7_Template"],"sources":["C:\\Users\\samyl\\Desktop\\Web-Atrio-Test\\demo.webatrio-frontend\\src\\app\\components\\liste-personnes\\liste-personnes.component.ts","C:\\Users\\samyl\\Desktop\\Web-Atrio-Test\\demo.webatrio-frontend\\src\\app\\components\\liste-personnes\\liste-personnes.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { PersonneService } from '../../services/personne.service';\r\nimport { Personne } from '../../models/personne.model';\r\n\r\n@Component({\r\n  selector: 'app-liste-personnes',\r\n  templateUrl: './liste-personnes.component.html',\r\n  styleUrls: ['./liste-personnes.component.css']\r\n})\r\nexport class ListePersonnesComponent implements OnInit {\r\n  personnes: Personne[] = [];\r\n  personneSelectionnee: Personne | null = null;\r\n\r\n  constructor(private personneService: PersonneService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.chargerPersonnes();\r\n  }\r\n\r\n  chargerPersonnes(): void {\r\n    this.personneService.obtenirToutesPersonnes().subscribe({\r\n      next: (data) => {\r\n        this.personnes = data;\r\n      },\r\n      error: (e) => {\r\n        console.error('Erreur lors du chargement des personnes', e);\r\n      }\r\n    });\r\n  }\r\n\r\n  selectionnerPersonne(personne: Personne): void {\r\n    this.personneSelectionnee = personne;\r\n  }\r\n} ","<div class=\"container mt-4\">\r\n  <h2>Liste des Personnes</h2>\r\n  \r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"list-group\">\r\n        <a *ngFor=\"let personne of personnes\" \r\n           (click)=\"selectionnerPersonne(personne)\"\r\n           class=\"list-group-item list-group-item-action\"\r\n           [class.active]=\"personneSelectionnee && personneSelectionnee.id === personne.id\">\r\n          {{ personne.prenom }} {{ personne.nom }}\r\n        </a>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"col-md-6\" *ngIf=\"personneSelectionnee\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header d-flex justify-content-between align-items-center\">\r\n          <h3>Détails de {{ personneSelectionnee.prenom }} {{ personneSelectionnee.nom }}</h3>\r\n          <a [routerLink]=\"['/emploi/nouveau', personneSelectionnee.id]\" class=\"btn btn-primary btn-sm\">\r\n            Ajouter un emploi\r\n          </a>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <p><strong>Date de naissance:</strong> {{ personneSelectionnee.dateNaissance | date:'dd/MM/yyyy' }}</p>\r\n          <app-liste-emplois [personneId]=\"personneSelectionnee.id\"></app-liste-emplois>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}