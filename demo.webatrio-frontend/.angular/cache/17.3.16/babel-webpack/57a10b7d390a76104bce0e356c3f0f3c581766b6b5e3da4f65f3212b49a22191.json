{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/personne.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../liste-emplois/liste-emplois.component\";\nconst _c0 = a0 => [\"/emploi/nouveau\", a0];\nfunction ListePersonnesComponent_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function ListePersonnesComponent_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.resetRecherche());\n    });\n    i0.ɵɵtext(1, \"R\\u00E9initialiser\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListePersonnesComponent_h3_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\");\n    i0.ɵɵtext(1, \"Toutes les personnes\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListePersonnesComponent_h3_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"Personnes ayant travaill\\u00E9 pour \\\"\", ctx_r1.nomEntrepriseRecherche, \"\\\" (\", ctx_r1.personnes.length, \")\");\n  }\n}\nfunction ListePersonnesComponent_a_30_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const personne_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"\", personne_r4.age, \" ans\");\n  }\n}\nfunction ListePersonnesComponent_a_30_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"[\\u00E2ge non disponible]\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ListePersonnesComponent_a_30_ng_container_7_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const emploi_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", emploi_r5.titrePoste, \" chez \", emploi_r5.nomEntreprise, \" \");\n  }\n}\nfunction ListePersonnesComponent_a_30_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ListePersonnesComponent_a_30_ng_container_7_span_1_Template, 2, 2, \"span\", 25);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const personne_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", personne_r4.emploisActuels);\n  }\n}\nfunction ListePersonnesComponent_a_30_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 27);\n    i0.ɵɵtext(1, \" Aucun emploi actuel \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListePersonnesComponent_a_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function ListePersonnesComponent_a_30_Template_a_click_0_listener() {\n      const personne_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.selectionnerPersonne(personne_r4));\n    });\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 18);\n    i0.ɵɵtemplate(4, ListePersonnesComponent_a_30_ng_container_4_Template, 2, 1, \"ng-container\", 14)(5, ListePersonnesComponent_a_30_ng_container_5_Template, 2, 0, \"ng-container\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 19);\n    i0.ɵɵtemplate(7, ListePersonnesComponent_a_30_ng_container_7_Template, 2, 1, \"ng-container\", 14)(8, ListePersonnesComponent_a_30_span_8_Template, 2, 0, \"span\", 24);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const personne_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", ctx_r1.personneSelectionnee && ctx_r1.personneSelectionnee.id === personne_r4.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", personne_r4.prenom, \" \", personne_r4.nom, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", personne_r4.age !== undefined && personne_r4.age !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", personne_r4.age === undefined || personne_r4.age === null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", personne_r4.emploisActuels && personne_r4.emploisActuels.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !personne_r4.emploisActuels || personne_r4.emploisActuels.length === 0);\n  }\n}\nfunction ListePersonnesComponent_div_31_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.personneSelectionnee.age, \" ans \");\n  }\n}\nfunction ListePersonnesComponent_div_31_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"json\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" [\\u00E2ge non disponible] (valeur: \", i0.ɵɵpipeBind1(2, 1, ctx_r1.personneSelectionnee.age), \") \");\n  }\n}\nfunction ListePersonnesComponent_div_31_div_22_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const emploi_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", emploi_r6.titrePoste, \" chez \", emploi_r6.nomEntreprise, \" \");\n  }\n}\nfunction ListePersonnesComponent_div_31_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtemplate(1, ListePersonnesComponent_div_31_div_22_div_1_Template, 2, 2, \"div\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.personneSelectionnee.emploisActuels);\n  }\n}\nfunction ListePersonnesComponent_div_31_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtext(1, \" Aucun emploi actuel \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ListePersonnesComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 4)(2, \"div\", 28)(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 29);\n    i0.ɵɵtext(6, \" Ajouter un emploi \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 30)(9, \"p\")(10, \"strong\");\n    i0.ɵɵtext(11, \"Date de naissance:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\")(15, \"strong\");\n    i0.ɵɵtext(16, \"\\u00C2ge:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, ListePersonnesComponent_div_31_ng_container_17_Template, 2, 1, \"ng-container\", 14)(18, ListePersonnesComponent_div_31_ng_container_18_Template, 3, 3, \"ng-container\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 30)(20, \"h4\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, ListePersonnesComponent_div_31_div_22_Template, 2, 1, \"div\", 31)(23, ListePersonnesComponent_div_31_div_23_Template, 2, 0, \"div\", 32);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"h4\");\n    i0.ɵɵtext(25, \"Tous les emplois\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(26, \"app-liste-emplois\", 33);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    let tmp_9_0;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"D\\u00E9tails de \", ctx_r1.personneSelectionnee.prenom, \" \", ctx_r1.personneSelectionnee.nom, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c0, ctx_r1.personneSelectionnee.id));\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(13, 10, ctx_r1.personneSelectionnee.dateNaissance, \"dd/MM/yyyy\"), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.personneSelectionnee.age !== undefined && ctx_r1.personneSelectionnee.age !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.personneSelectionnee.age === undefined || ctx_r1.personneSelectionnee.age === null);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Emplois actuels (\", (ctx_r1.personneSelectionnee.emploisActuels == null ? null : ctx_r1.personneSelectionnee.emploisActuels.length) || 0, \")\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.personneSelectionnee.emploisActuels && ctx_r1.personneSelectionnee.emploisActuels.length > 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.personneSelectionnee.emploisActuels || ctx_r1.personneSelectionnee.emploisActuels.length === 0);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"personneId\", (tmp_9_0 = ctx_r1.personneSelectionnee.id) !== null && tmp_9_0 !== undefined ? tmp_9_0 : null);\n  }\n}\nexport class ListePersonnesComponent {\n  constructor(personneService) {\n    this.personneService = personneService;\n    this.personnes = [];\n    this.personneSelectionnee = null;\n    this.nomEntreprise = '';\n    this.nomEntrepriseRecherche = '';\n    this.rechercheModeActif = false;\n  }\n  ngOnInit() {\n    this.personneService.personnes$.subscribe(personnes => {\n      if (!this.rechercheModeActif) {\n        console.log('Mise à jour des personnes reçue:', personnes);\n        this.personnes = this.trierPersonnes(personnes);\n        this.personnes.forEach(p => {\n          console.log(`Personne: ${p.prenom} ${p.nom}`);\n          console.log(`Emplois actuels: ${JSON.stringify(p.emploisActuels)}`);\n          if (p.emploisActuels) {\n            console.log(`Nombre d'emplois: ${p.emploisActuels.length}`);\n          } else {\n            console.log('Pas d\\'emplois');\n          }\n        });\n        if (this.personneSelectionnee) {\n          const personneActualisee = personnes.find(p => p.id === this.personneSelectionnee?.id);\n          if (personneActualisee) {\n            this.personneSelectionnee = personneActualisee;\n          }\n        }\n      }\n    });\n    this.chargerPersonnes();\n  }\n  rechercherParEntreprise() {\n    if (!this.nomEntreprise || this.nomEntreprise.trim() === '') {\n      return;\n    }\n    this.rechercheModeActif = true;\n    this.nomEntrepriseRecherche = this.nomEntreprise;\n    this.personneSelectionnee = null;\n    this.personneService.obtenirPersonnesParEntreprise(this.nomEntreprise).subscribe({\n      next: personnes => {\n        console.log(`Personnes trouvées pour l'entreprise \"${this.nomEntreprise}\":`, personnes);\n        this.personnes = this.trierPersonnes(personnes);\n      },\n      error: err => {\n        console.error(`Erreur lors de la recherche des personnes pour l'entreprise \"${this.nomEntreprise}\":`, err);\n        this.personnes = [];\n      }\n    });\n  }\n  resetRecherche() {\n    this.rechercheModeActif = false;\n    this.nomEntreprise = '';\n    this.nomEntrepriseRecherche = '';\n    this.personneSelectionnee = null;\n    this.chargerPersonnes();\n  }\n  chargerPersonnes() {\n    this.personneService.obtenirToutesPersonnes().subscribe({\n      next: data => {\n        console.log('Données reçues du backend:', data);\n        data.forEach(p => {\n          console.log(`Personne: ${p.prenom} ${p.nom}, Âge: ${p.age}, Emplois actuels: ${p.emploisActuels?.length || 0}`);\n          if (p.emploisActuels && p.emploisActuels.length > 0) {\n            p.emploisActuels.forEach(e => console.log(` - ${e.titrePoste} chez ${e.nomEntreprise}`));\n          }\n        });\n      },\n      error: e => {\n        console.error('Erreur lors du chargement des personnes', e);\n      }\n    });\n  }\n  selectionnerPersonne(personne) {\n    this.personneService.obtenirPersonneParId(personne.id).subscribe({\n      next: personneActualisee => {\n        this.personneSelectionnee = personneActualisee;\n        console.log('Personne sélectionnée (actualisée):', this.personneSelectionnee);\n        if (this.personneSelectionnee?.emploisActuels) {\n          console.log(`Emplois actuels (${this.personneSelectionnee.emploisActuels.length}):`);\n          console.log(JSON.stringify(this.personneSelectionnee.emploisActuels));\n          this.personneSelectionnee.emploisActuels.forEach(e => {\n            console.log(` - ${e.titrePoste} chez ${e.nomEntreprise}`);\n          });\n        } else {\n          console.log('Aucun emploi actuel');\n        }\n      },\n      error: e => {\n        console.error('Erreur lors du chargement de la personne', e);\n      }\n    });\n  }\n  trierPersonnes(personnes) {\n    return [...personnes].sort((a, b) => {\n      const comparaisonNom = a.nom.localeCompare(b.nom);\n      if (comparaisonNom !== 0) {\n        return comparaisonNom;\n      }\n      return a.prenom.localeCompare(b.prenom);\n    });\n  }\n  static {\n    this.ɵfac = function ListePersonnesComponent_Factory(t) {\n      return new (t || ListePersonnesComponent)(i0.ɵɵdirectiveInject(i1.PersonneService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ListePersonnesComponent,\n      selectors: [[\"app-liste-personnes\"]],\n      decls: 32,\n      vars: 6,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"mb-4\"], [1, \"row\", \"mb-4\"], [1, \"col-md-6\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Nom de l'entreprise\", 1, \"form-control\", 3, \"ngModelChange\", \"keyup.enter\", \"ngModel\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"class\", \"btn btn-secondary\", 3, \"click\", 4, \"ngIf\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-3\"], [4, \"ngIf\"], [1, \"list-group\", \"mb-4\"], [1, \"list-group-item\", \"list-group-item-secondary\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [2, \"width\", \"30%\"], [2, \"width\", \"10%\"], [2, \"width\", \"60%\"], [\"class\", \"list-group-item list-group-item-action d-flex justify-content-between align-items-center\", 3, \"active\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"col-md-12\", 4, \"ngIf\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"list-group-item\", \"list-group-item-action\", \"d-flex\", \"justify-content-between\", \"align-items-center\", 3, \"click\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [\"class\", \"badge bg-success me-1\", 4, \"ngFor\", \"ngForOf\"], [1, \"badge\", \"bg-success\", \"me-1\"], [1, \"text-muted\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\"], [1, \"mb-3\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [3, \"personneId\"], [\"class\", \"alert alert-success mb-2\", 4, \"ngFor\", \"ngForOf\"], [1, \"alert\", \"alert-success\", \"mb-2\"], [1, \"alert\", \"alert-info\"]],\n      template: function ListePersonnesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n          i0.ɵɵtext(2, \"Liste des Personnes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"div\", 5);\n          i0.ɵɵtext(7, \" Rechercher par entreprise \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"input\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ListePersonnesComponent_Template_input_ngModelChange_10_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.nomEntreprise, $event) || (ctx.nomEntreprise = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"keyup.enter\", function ListePersonnesComponent_Template_input_keyup_enter_10_listener() {\n            return ctx.rechercherParEntreprise();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"button\", 9);\n          i0.ɵɵlistener(\"click\", function ListePersonnesComponent_Template_button_click_11_listener() {\n            return ctx.rechercherParEntreprise();\n          });\n          i0.ɵɵtext(12, \"Rechercher\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(13, ListePersonnesComponent_button_13_Template, 2, 0, \"button\", 10);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(14, \"div\", 11)(15, \"div\", 12)(16, \"div\", 13);\n          i0.ɵɵtemplate(17, ListePersonnesComponent_h3_17_Template, 2, 0, \"h3\", 14)(18, ListePersonnesComponent_h3_18_Template, 2, 2, \"h3\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"div\", 15)(20, \"div\", 16)(21, \"div\", 17)(22, \"strong\");\n          i0.ɵɵtext(23, \"Nom et pr\\u00E9nom\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(24, \"div\", 18)(25, \"strong\");\n          i0.ɵɵtext(26, \"\\u00C2ge\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(27, \"div\", 19)(28, \"strong\");\n          i0.ɵɵtext(29, \"Emploi(s) actuel(s)\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(30, ListePersonnesComponent_a_30_Template, 9, 8, \"a\", 20);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(31, ListePersonnesComponent_div_31_Template, 27, 15, \"div\", 21);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.nomEntreprise);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.rechercheModeActif);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", !ctx.rechercheModeActif);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.rechercheModeActif);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngForOf\", ctx.personnes);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.personneSelectionnee);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.RouterLink, i5.ListeEmploisComponent, i2.JsonPipe, i2.DatePipe],\n      styles: [\".list-group-item[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  padding: 12px 15px;\\n}\\n\\n.list-group-item[_ngcontent-%COMP%]:hover {\\n  background-color: #f8f9fa;\\n}\\n\\n.list-group-item.active[_ngcontent-%COMP%] {\\n  background-color: #0d6efd;\\n  border-color: #0d6efd;\\n}\\n\\n.badge[_ngcontent-%COMP%] {\\n  padding: 6px 10px;\\n  margin-right: 5px;\\n  margin-bottom: 5px;\\n  display: inline-block;\\n  font-size: 0.85rem;\\n}\\n\\n.list-group-item-secondary[_ngcontent-%COMP%] {\\n  cursor: default;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n} \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9saXN0ZS1wZXJzb25uZXMvbGlzdGUtcGVyc29ubmVzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFlO0VBQ2Ysa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiLmxpc3QtZ3JvdXAtaXRlbSB7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIHBhZGRpbmc6IDEycHggMTVweDtcclxufVxyXG5cclxuLmxpc3QtZ3JvdXAtaXRlbTpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTtcclxufVxyXG5cclxuLmxpc3QtZ3JvdXAtaXRlbS5hY3RpdmUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwZDZlZmQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMGQ2ZWZkO1xyXG59XHJcblxyXG4uYmFkZ2Uge1xyXG4gIHBhZGRpbmc6IDZweCAxMHB4O1xyXG4gIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDVweDtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgZm9udC1zaXplOiAwLjg1cmVtO1xyXG59XHJcblxyXG4ubGlzdC1ncm91cC1pdGVtLXNlY29uZGFyeSB7XHJcbiAgY3Vyc29yOiBkZWZhdWx0O1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxufSAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","ListePersonnesComponent_button_13_Template_button_click_0_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","resetRecherche","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","nomEntrepriseRecherche","personnes","length","ɵɵelementContainerStart","ɵɵtextInterpolate1","personne_r4","age","emploi_r5","titrePoste","nomEntreprise","ɵɵtemplate","ListePersonnesComponent_a_30_ng_container_7_span_1_Template","ɵɵproperty","emploisActuels","ListePersonnesComponent_a_30_Template_a_click_0_listener","_r3","$implicit","selectionnerPersonne","ListePersonnesComponent_a_30_ng_container_4_Template","ListePersonnesComponent_a_30_ng_container_5_Template","ListePersonnesComponent_a_30_ng_container_7_Template","ListePersonnesComponent_a_30_span_8_Template","ɵɵclassProp","personneSelectionnee","id","prenom","nom","undefined","ɵɵpipeBind1","emploi_r6","ListePersonnesComponent_div_31_div_22_div_1_Template","ListePersonnesComponent_div_31_ng_container_17_Template","ListePersonnesComponent_div_31_ng_container_18_Template","ListePersonnesComponent_div_31_div_22_Template","ListePersonnesComponent_div_31_div_23_Template","ɵɵelement","ɵɵpureFunction1","_c0","ɵɵpipeBind2","dateNaissance","tmp_9_0","ListePersonnesComponent","constructor","personneService","rechercheModeActif","ngOnInit","personnes$","subscribe","console","log","trierPersonnes","forEach","p","JSON","stringify","personneActualisee","find","chargerPersonnes","rechercherParEntreprise","trim","obtenirPersonnesParEntreprise","next","error","err","obtenirToutesPersonnes","data","e","personne","obtenirPersonneParId","sort","a","b","comparaisonNom","localeCompare","ɵɵdirectiveInject","i1","PersonneService","selectors","decls","vars","consts","template","ListePersonnesComponent_Template","rf","ctx","ɵɵtwoWayListener","ListePersonnesComponent_Template_input_ngModelChange_10_listener","$event","ɵɵtwoWayBindingSet","ListePersonnesComponent_Template_input_keyup_enter_10_listener","ListePersonnesComponent_Template_button_click_11_listener","ListePersonnesComponent_button_13_Template","ListePersonnesComponent_h3_17_Template","ListePersonnesComponent_h3_18_Template","ListePersonnesComponent_a_30_Template","ListePersonnesComponent_div_31_Template","ɵɵtwoWayProperty"],"sources":["C:\\Users\\samyl\\Desktop\\Web-Atrio-Test\\demo.webatrio-frontend\\src\\app\\components\\liste-personnes\\liste-personnes.component.ts","C:\\Users\\samyl\\Desktop\\Web-Atrio-Test\\demo.webatrio-frontend\\src\\app\\components\\liste-personnes\\liste-personnes.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { PersonneService } from '../../services/personne.service';\r\nimport { Personne } from '../../models/personne.model';\r\n\r\n@Component({\r\n  selector: 'app-liste-personnes',\r\n  templateUrl: './liste-personnes.component.html',\r\n  styleUrls: ['./liste-personnes.component.css']\r\n})\r\nexport class ListePersonnesComponent implements OnInit {\r\n  personnes: Personne[] = [];\r\n  personneSelectionnee: Personne | null = null;\r\n  \r\n  nomEntreprise: string = '';\r\n  nomEntrepriseRecherche: string = '';\r\n  rechercheModeActif: boolean = false;\r\n\r\n  constructor(private personneService: PersonneService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.personneService.personnes$.subscribe(personnes => {\r\n      if (!this.rechercheModeActif) {\r\n        console.log('Mise à jour des personnes reçue:', personnes);\r\n        this.personnes = this.trierPersonnes(personnes);\r\n        \r\n        this.personnes.forEach(p => {\r\n          console.log(`Personne: ${p.prenom} ${p.nom}`);\r\n          console.log(`Emplois actuels: ${JSON.stringify(p.emploisActuels)}`);\r\n          \r\n          if (p.emploisActuels) {\r\n            console.log(`Nombre d'emplois: ${p.emploisActuels.length}`);\r\n          } else {\r\n            console.log('Pas d\\'emplois');\r\n          }\r\n        });\r\n        \r\n        if (this.personneSelectionnee) {\r\n          const personneActualisee = personnes.find(p => p.id === this.personneSelectionnee?.id);\r\n          if (personneActualisee) {\r\n            this.personneSelectionnee = personneActualisee;\r\n          }\r\n        }\r\n      }\r\n    });\r\n    \r\n    this.chargerPersonnes();\r\n  }\r\n\r\n  rechercherParEntreprise(): void {\r\n    if (!this.nomEntreprise || this.nomEntreprise.trim() === '') {\r\n      return;\r\n    }\r\n    \r\n    this.rechercheModeActif = true;\r\n    this.nomEntrepriseRecherche = this.nomEntreprise;\r\n    this.personneSelectionnee = null;\r\n    \r\n    this.personneService.obtenirPersonnesParEntreprise(this.nomEntreprise).subscribe({\r\n      next: (personnes) => {\r\n        console.log(`Personnes trouvées pour l'entreprise \"${this.nomEntreprise}\":`, personnes);\r\n        this.personnes = this.trierPersonnes(personnes);\r\n      },\r\n      error: (err) => {\r\n        console.error(`Erreur lors de la recherche des personnes pour l'entreprise \"${this.nomEntreprise}\":`, err);\r\n        this.personnes = [];\r\n      }\r\n    });\r\n  }\r\n  \r\n  resetRecherche(): void {\r\n    this.rechercheModeActif = false;\r\n    this.nomEntreprise = '';\r\n    this.nomEntrepriseRecherche = '';\r\n    this.personneSelectionnee = null;\r\n    this.chargerPersonnes();\r\n  }\r\n\r\n  chargerPersonnes(): void {\r\n    this.personneService.obtenirToutesPersonnes().subscribe({\r\n      next: (data) => {\r\n        console.log('Données reçues du backend:', data);\r\n        \r\n        data.forEach(p => {\r\n          console.log(`Personne: ${p.prenom} ${p.nom}, Âge: ${p.age}, Emplois actuels: ${p.emploisActuels?.length || 0}`);\r\n          if (p.emploisActuels && p.emploisActuels.length > 0) {\r\n            p.emploisActuels.forEach(e => console.log(` - ${e.titrePoste} chez ${e.nomEntreprise}`));\r\n          }\r\n        });\r\n      },\r\n      error: (e) => {\r\n        console.error('Erreur lors du chargement des personnes', e);\r\n      }\r\n    });\r\n  }\r\n\r\n  selectionnerPersonne(personne: Personne): void {\r\n    this.personneService.obtenirPersonneParId(personne.id!).subscribe({\r\n      next: (personneActualisee) => {\r\n        this.personneSelectionnee = personneActualisee;\r\n        console.log('Personne sélectionnée (actualisée):', this.personneSelectionnee);\r\n        \r\n        if (this.personneSelectionnee?.emploisActuels) {\r\n          console.log(`Emplois actuels (${this.personneSelectionnee.emploisActuels.length}):`);\r\n          console.log(JSON.stringify(this.personneSelectionnee.emploisActuels));\r\n          this.personneSelectionnee.emploisActuels.forEach(e => {\r\n            console.log(` - ${e.titrePoste} chez ${e.nomEntreprise}`);\r\n          });\r\n        } else {\r\n          console.log('Aucun emploi actuel');\r\n        }\r\n      },\r\n      error: (e) => {\r\n        console.error('Erreur lors du chargement de la personne', e);\r\n      }\r\n    });\r\n  }\r\n  \r\n  private trierPersonnes(personnes: Personne[]): Personne[] {\r\n    return [...personnes].sort((a, b) => {\r\n      const comparaisonNom = a.nom.localeCompare(b.nom);\r\n      if (comparaisonNom !== 0) {\r\n        return comparaisonNom;\r\n      }\r\n      return a.prenom.localeCompare(b.prenom);\r\n    });\r\n  }\r\n} ","<div class=\"container mt-4\">\r\n  <h2 class=\"mb-4\">Liste des Personnes</h2>\r\n  \r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-md-6\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header\">\r\n          Rechercher par entreprise\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"input-group\">\r\n            <input \r\n              type=\"text\" \r\n              class=\"form-control\" \r\n              placeholder=\"Nom de l'entreprise\" \r\n              [(ngModel)]=\"nomEntreprise\"\r\n              (keyup.enter)=\"rechercherParEntreprise()\"\r\n            >\r\n            <button class=\"btn btn-primary\" (click)=\"rechercherParEntreprise()\">Rechercher</button>\r\n            <button class=\"btn btn-secondary\" (click)=\"resetRecherche()\" *ngIf=\"rechercheModeActif\">Réinitialiser</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\">\r\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n        <h3 *ngIf=\"!rechercheModeActif\">Toutes les personnes</h3>\r\n        <h3 *ngIf=\"rechercheModeActif\">Personnes ayant travaillé pour \"{{ nomEntrepriseRecherche }}\" ({{ personnes.length }})</h3>\r\n      </div>\r\n      \r\n      <div class=\"list-group mb-4\">\r\n        <div class=\"list-group-item list-group-item-secondary d-flex justify-content-between align-items-center\">\r\n          <div style=\"width: 30%\"><strong>Nom et prénom</strong></div>\r\n          <div style=\"width: 10%\"><strong>Âge</strong></div>\r\n          <div style=\"width: 60%\"><strong>Emploi(s) actuel(s)</strong></div>\r\n        </div>\r\n        <a *ngFor=\"let personne of personnes\" \r\n           (click)=\"selectionnerPersonne(personne)\"\r\n           class=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\r\n           [class.active]=\"personneSelectionnee && personneSelectionnee.id === personne.id\">\r\n          <div style=\"width: 30%\">{{ personne.prenom }} {{ personne.nom }}</div>\r\n          <div style=\"width: 10%\">\r\n            <ng-container *ngIf=\"personne.age !== undefined && personne.age !== null\">{{ personne.age }} ans</ng-container>\r\n            <ng-container *ngIf=\"personne.age === undefined || personne.age === null\">[âge non disponible]</ng-container>\r\n          </div>\r\n          <div style=\"width: 60%\">\r\n            <ng-container *ngIf=\"personne.emploisActuels && personne.emploisActuels.length > 0\">\r\n              <span *ngFor=\"let emploi of personne.emploisActuels\" class=\"badge bg-success me-1\">\r\n                {{ emploi.titrePoste }} chez {{ emploi.nomEntreprise }}\r\n              </span>\r\n            </ng-container>\r\n            <span *ngIf=\"!personne.emploisActuels || personne.emploisActuels.length === 0\" class=\"text-muted\">\r\n              Aucun emploi actuel\r\n            </span>\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    \r\n    <div class=\"col-md-12\" *ngIf=\"personneSelectionnee\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header d-flex justify-content-between align-items-center\">\r\n          <h3>Détails de {{ personneSelectionnee.prenom }} {{ personneSelectionnee.nom }}</h3>\r\n          <a [routerLink]=\"['/emploi/nouveau', personneSelectionnee.id]\" class=\"btn btn-primary btn-sm\">\r\n            Ajouter un emploi\r\n          </a>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"mb-3\">\r\n            <p><strong>Date de naissance:</strong> {{ personneSelectionnee.dateNaissance | date:'dd/MM/yyyy' }}</p>\r\n            <p>\r\n              <strong>Âge:</strong> \r\n              <ng-container *ngIf=\"personneSelectionnee.age !== undefined && personneSelectionnee.age !== null\">\r\n                {{ personneSelectionnee.age }} ans\r\n              </ng-container>\r\n              <ng-container *ngIf=\"personneSelectionnee.age === undefined || personneSelectionnee.age === null\">\r\n                [âge non disponible] (valeur: {{ personneSelectionnee.age | json }})\r\n              </ng-container>\r\n            </p>\r\n          </div>\r\n          \r\n          <div class=\"mb-3\">\r\n            <h4>Emplois actuels ({{ personneSelectionnee.emploisActuels?.length || 0 }})</h4>\r\n            <div *ngIf=\"personneSelectionnee.emploisActuels && personneSelectionnee.emploisActuels.length > 0\" class=\"mb-3\">\r\n              <div *ngFor=\"let emploi of personneSelectionnee.emploisActuels\" class=\"alert alert-success mb-2\">\r\n                {{ emploi.titrePoste }} chez {{ emploi.nomEntreprise }}\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"!personneSelectionnee.emploisActuels || personneSelectionnee.emploisActuels.length === 0\" class=\"alert alert-info\">\r\n              Aucun emploi actuel\r\n            </div>\r\n          </div>\r\n          \r\n          <h4>Tous les emplois</h4>\r\n          <app-liste-emplois [personneId]=\"personneSelectionnee.id ?? null\"></app-liste-emplois>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}